{"version":3,"names":["window","document","DEFAULT_CONFIG","width","height","backgroundColor","tools","colors","exportFormat","theme","SketchWidget","constructor","container","config","this","querySelector","Error","init","createHTML","setupCanvas","setupTools","setupEventListeners","initializeState","innerHTML","map","tool","charAt","toUpperCase","slice","getToolIcon","join","color","pencil","pen","marker","eraser","lasso","ruler","canvas","ctx","getContext","strokes","undoneStrokes","currentStroke","drawing","currentTool","currentColor","thickness","querySelectorAll","forEach","btn","addEventListener","setActiveTool","dataset","swatch","setActiveColor","e","startDraw","draw","endDraw","parseInt","target","value","undo","redo","exportDrawing","style","background","transform","border","points","x","offsetX","y","offsetY","point","push","redraw","clearRect","filter","Boolean","stroke","drawStroke","save","strokeStyle","lineWidth","lineCap","lineJoin","length","beginPath","arc","Math","PI","fillStyle","fill","moveTo","i","lineTo","restore","pop","exportSVG","exportPNG","svg","createElementNS","setAttribute","appendChild","circle","path","pathData","svgData","XMLSerializer","serializeToString","svgBlob","Blob","type","svgUrl","URL","createObjectURL","link","createElement","download","href","click","revokeObjectURL","toDataURL","clear","getStrokes","loadStrokes","element"],"sources":["src/sketch-widget.js"],"mappings":"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","ignoreList":[]}